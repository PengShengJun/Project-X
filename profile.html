import React, { useState } from 'react';
import { User, Rocket, Sparkles, Zap, Gamepad2, MessageCircle, RefreshCw, Crown, Fingerprint } from 'lucide-react';

const ProfileCard = () => {
  const [isFlipped, setIsFlipped] = useState(false);

  const handleFlip = () => {
    setIsFlipped(!isFlipped);
  };

  return (
    <div className="min-h-screen bg-slate-900 flex items-center justify-center p-4 font-sans text-slate-100">
      {/* 透視容器 */}
      <div className="group w-full max-w-sm h-[550px] perspective-1000">
        
        {/* 卡片本體 (包含翻轉邏輯) */}
        <div
          onClick={handleFlip}
          className={`relative w-full h-full duration-700 preserve-3d cursor-pointer transition-transform ${
            isFlipped ? 'rotate-y-180' : ''
          }`}
          style={{ transformStyle: 'preserve-3d' }}
        >
          {/* --- 卡片正面 (Front) --- */}
          <div className="absolute w-full h-full backface-hidden rounded-2xl overflow-hidden shadow-2xl border border-yellow-600/30 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900">
            {/* 裝飾背景流光 (金色系代表獅子座/艦長) */}
            <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500"></div>
            
            <div className="flex flex-col items-center justify-center h-full p-6 relative">
              
              {/* 狀態標籤 */}
              <div className="absolute top-6 right-6 flex items-center space-x-1 bg-slate-800/90 px-3 py-1 rounded-full border border-yellow-500/50">
                <span className="relative flex h-2 w-2">
                  <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"></span>
                  <span className="relative inline-flex rounded-full h-2 w-2 bg-yellow-500"></span>
                </span>
                <span className="text-xs text-yellow-100 font-bold tracking-wider">CAPTAIN ON BRIDGE</span>
              </div>

              {/* 頭像區域 */}
              <div className="relative mb-6 group-hover:scale-105 transition-transform duration-300">
                <div className="w-32 h-32 rounded-full p-1 bg-gradient-to-br from-yellow-400 to-red-600 shadow-[0_0_15px_rgba(234,179,8,0.5)]">
                  <div className="w-full h-full rounded-full bg-slate-900 flex items-center justify-center overflow-hidden relative">
                    {/* 這裡可以換成真實圖片 */}
                    <User size={48} className="text-slate-400" />
                    {/* 獅子 emoji 作為替代頭像示意 */}
                    <span className="absolute text-5xl opacity-80">🦁</span>
                  </div>
                </div>
                <div className="absolute -bottom-2 -right-2 bg-slate-900 p-2 rounded-full border border-yellow-600">
                  <Crown size={20} className="text-yellow-400 fill-yellow-400" />
                </div>
              </div>

              {/* 名稱與職稱 */}
              <h2 className="text-4xl font-black bg-clip-text text-transparent bg-gradient-to-r from-yellow-200 to-yellow-600 mb-2 tracking-tight">
                Leo 👨‍🚀
              </h2>
              <div className="flex items-center gap-2 mb-6">
                <span className="px-2 py-0.5 rounded text-[10px] font-bold bg-yellow-500/20 text-yellow-300 border border-yellow-500/30">Project X</span>
                <p className="text-slate-300 text-sm font-medium">征服星辰，順便打 Game 🎮</p>
              </div>

              {/* 裝飾性數據 */}
              <div className="grid grid-cols-2 gap-4 w-full mb-8">
                <div className="bg-slate-800/50 p-3 rounded-xl border border-slate-700 text-center hover:border-yellow-500/50 transition-colors">
                  <p className="text-[10px] text-slate-400 uppercase tracking-widest">艦長規格</p>
                  <p className="text-lg font-bold text-white">14歲 / 獅子座</p>
                </div>
                <div className="bg-slate-800/50 p-3 rounded-xl border border-slate-700 text-center hover:border-yellow-500/50 transition-colors">
                  <p className="text-[10px] text-slate-400 uppercase tracking-widest">當前任務</p>
                  <p className="text-lg font-bold text-white">招募副駕駛</p>
                </div>
              </div>

              {/* 提示文字 */}
              <div className="flex items-center space-x-2 text-yellow-500/70 text-sm animate-pulse">
                <RefreshCw size={14} />
                <span>點擊翻轉檢視航海日誌</span>
              </div>
            </div>
          </div>

          {/* --- 卡片背面 (Back) --- */}
          <div 
            className="absolute w-full h-full backface-hidden rounded-2xl overflow-hidden shadow-2xl border border-slate-700 bg-slate-900 rotate-y-180"
          >
             {/* 裝飾背景流光 (底部) */}
             <div className="absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-red-500 via-orange-500 to-yellow-500"></div>
             
             {/* 科技感網格背景 */}
             <div className="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:20px_20px]"></div>

            <div className="relative flex flex-col h-full p-8 z-10">
              <h3 className="text-lg font-bold text-yellow-400 flex items-center gap-2 mb-4 border-b border-slate-700 pb-2">
                <Zap className="text-yellow-400" size={18} />
                ⚠️ 系統廣播：艦長登入
              </h3>
              
              <div className="space-y-3 mb-6">
                <p className="text-slate-300 text-sm leading-relaxed">
                  地球太無聊，<strong className="text-white">Project X</strong> 才是我的新戰場。
                </p>
                
                <div className="bg-slate-800/50 p-3 rounded border-l-2 border-yellow-500 text-xs text-slate-400 font-mono">
                  <div className="flex items-center gap-2 mb-1">
                    <Fingerprint size={12} /> ID： Leo
                  </div>
                  <div>⚡ 規格： 14歲 ⁄ 獅子座 ⁄ 男</div>
                </div>

                <p className="text-slate-300 text-sm leading-relaxed">
                  雖然眼望星辰大海，但腳下的路我也會走穩。
                  <br/>
                  <span className="text-yellow-200/80">這裡不需要無趣的人，正在招募能跟我一起打 Game、講幹話的副駕駛。</span>
                </p>
                
                <p className="text-white font-bold text-sm flex items-center gap-2">
                  跟得上節奏的，歡迎上船。 <Rocket size={16} className="text-red-400 animate-pulse" />
                </p>
              </div>

              <div className="flex flex-wrap gap-2 mb-6">
                {['#Gaming🎮', '#講幹話', '#領導力🦁', '#Project_X'].map((skill) => (
                  <span key={skill} className="px-2 py-1 text-[10px] font-bold rounded bg-yellow-500/10 text-yellow-300 border border-yellow-500/20">
                    {skill}
                  </span>
                ))}
              </div>
              
              {/* Quote */}
              <div className="mb-6 italic text-slate-500 text-xs text-center px-4 border-t border-slate-800 pt-4">
                ❝ Keep your feet on the ground and your eyes on the stars. ❞
              </div>

              <div className="mt-auto">
                <a 
                  href="https://line.me/ti/p/SkJNjJrBZp"
                  target="_blank"
                  rel="noopener noreferrer"
                  onClick={(e) => e.stopPropagation()}
                  className="bg-[#06C755] hover:bg-[#05b34c] text-white py-3 rounded-lg flex items-center justify-center gap-2 transition-all shadow-[0_0_10px_rgba(6,199,85,0.3)] hover:shadow-[0_0_20px_rgba(6,199,85,0.5)] w-full group"
                >
                  <MessageCircle size={20} className="group-hover:scale-110 transition-transform" />
                  <span className="text-sm font-bold">私訊艦長</span>
                </a>
              </div>
            </div>
          </div>

        </div>
      </div>
      
      <style>{`
        .perspective-1000 {
          perspective: 1000px;
        }
        .preserve-3d {
          transform-style: preserve-3d;
        }
        .backface-hidden {
          backface-visibility: hidden;
        }
        .rotate-y-180 {
          transform: rotateY(180deg);
        }
      `}</style>
    </div>
  );
};

export default ProfileCard;